<div id="companyPage" data-ng-controller="ListCtrl">

  <header class="page-main-header ng-scope">
    <div class="row">
      <div class="col-md-12">
        <h4>
          {{companyData.name}}
        </h4>
      </div>
    </div>
  </header>

<div class="row companyPageRow">
    <div class="col-md-6 info-column">
      <div class="panel panel-default">
        <div class="panel-heading"><strong>General Details</strong></div>
        <div class="panel-body">
          <div class="media">
            <div class="media-body">

              <ul class="list-unstyled list-info">
                <li ng-if="companyData.name">
                  <span class="icon fa fa-briefcase"></span>
                  <label>Company Name:</label>
                  {{companyData.name}}
                </li>
                <li ng-if="companyData.fortuneRank">
                  <span class="icon fa fa-bar-chart"></span>
                  <label>Fortune Rank:</label>
                  {{companyData.fortuneRank}}
                </li>
                <li ng-if="companyData.funding">
                  <span class="icon fa fa-money"></span>
                  <label>Funding:</label>
                  {{companyData.funding | currency:"$":0}}
                </li>
                <li ng-if="companyData.location">
                  <span class="icon fa fa-building-o"></span>
                  <label>Address:</label>
                  {{companyData.location.streetAddress}}
                  {{companyData.location.city}}, {{companyData.location.zipCode}}
                </li>
                <li ng-if="companyData.location.country">
                  <span class="icon fa fa-flag"></span>
                  <label>Country:</label>
                  {{companyData.location.country}}
                </li>
                <li ng-if="companyData.websites">
                  <span class="icon fa fa-globe"></span>
                  <label>Website<span ng-if="companyData.websites.length > 1">s</span>:</label>
                  <span ng-repeat="website in companyData.websites"><a href="http://{{website}}" class="companyPageWebsiteLink" target="_blank">{{website}}</a>{{$last ? '' : ', '}}</span>
                </li>
              </ul>

            </div>
          </div>
        </div>
      </div>

    </div>

    <div class="col-md-6 info-column">

      <div class="panel panel-default">
        <div class="panel-heading"><strong>Actions</strong></div>
        <div class="panel-body">
          <div class="media">
            <div class="media-body">
              <ul class="list-unstyled list-info">
                <li id="linkedinLinksList">
                  <span class="icon fa fa-linkedin"></span>
                  <label>LinkedIn Links:</label>
                  <button type="submit" class="btn btn-default btn-sm" ng-click="onLinkedinButtonClick('company')">Company</button>
                  <button type="submit" class="btn btn-default btn-sm" ng-click="onLinkedinButtonClick('sales')">Sales Team</button>
                  <button type="submit" class="btn btn-default btn-sm" ng-click="onLinkedinButtonClick('marketing')">Marketing Team</button>
                </li>
                <!--
                <li>
                  <span class="icon fa fa-envelope-o"></span>
                  <label>Company Emails</label>
                </li>
                -->
              </ul>
            </div>
          </div>
        </div>
      </div>

    </div>
</div>
<div class="row companyPageRow">
  <div class="page page-table" data-ng-controller="TableCtrl">

    <section class="panel panel-default table-dynamic" data-ng-controller="ListCtrl">


        <div class="panel-heading" id="listViewTableHeading">
          <strong><i class="fa fa-list panel-ico"></i>Apps Owned by {{companyData.name}}</strong> <span id="dashboardResultsTableHeadingNumDisplayed" ng-if="numApps">| Displaying 1 - {{numApps}} of {{numApps}}</span>
          <!--
          <span class="ui-select pull-right">
            <select id="addSelectedToDropDown" ng-model="$root.addSelectedToDropdown" ng-change="addSelectedTo(addSelectedToDropdown, $root.selectedAppsForList)" ng-disabled="$root.selectedAppsForList < 1">
              <option value="">Add Selected to List</option>
              <option ng-repeat="option in $root.usersLists" value="{{option.id}}">{{option.name}}</option>
            </select>
          </span>
          -->
        </div>



        <div id="results-table-wrapper">

          <table id="companyDetailsTable" class="table table-bordered table-striped table-responsive">
            <thead>
            <tr>
              <!--
              <th class="selectAllCheckboxHeader">
                <select-all-checkbox checkboxes="apps" all-selected="AllSelectedItems" all-clear="NoSelectedItems"></select-all-checkbox>
              </th>
              -->
              <th><div class="th normal-right-padding">
                App Name
                <!--
                                <span class="glyphicon glyphicon-chevron-up"
                                      data-ng-click=" sortApps('appName', 'ASC') "
                                      data-ng-class="{active: row == 'appName'}"></span>
                                <span class="glyphicon glyphicon-chevron-down"
                                      data-ng-click=" sortApps('appName', 'DESC') "
                                      data-ng-class="{active: row == '-appName'}"></span>
                -->
              </div></th>
              <th><div class="th normal-right-padding appDetailsHeader">
                App Type
              </div></th>
              <th><div class="th normal-right-padding">
                Mobile Priority
              </div></th>
              <th><div class="th normal-right-padding">
                Ad Spend
              </div></th>
              <th><div class="th normal-right-padding">
                User Base Size
              </div></th>
              <th><div class="th normal-right-padding">
                Categories

              </div></th>
              <th><div class="th normal-right-padding">
                Last Updated
                <!--
                                <span class="glyphicon glyphicon-chevron-up"
                                      data-ng-click=" sortApps('lastUpdated', 'ASC') "
                                      data-ng-class="{active: row == 'lastUpdated'}"></span>
                                <span class="glyphicon glyphicon-chevron-down"
                                      data-ng-click=" sortApps('lastUpdated', 'DESC') "
                                      data-ng-class="{active: row == '-lastUpdated'}"></span>
                -->
              </div></th>
            </tr>
            </thead>

            <tbody data-ng-hide="queryInProgress">
            <tr data-ng-repeat="app in apps">
              <!--
              <td class="dashboardTableDataCheckbox">
                <checkable-checkbox app="app.app"></checkable-checkbox>
              </td>
              -->
              <td class="resultsTableAppIcon">
                <span>
                  <img ng-src="{{app.appIcon.large}}" /> <a href="#/app/{{appPlatform}}/{{app.id}}" target="_blank">{{app.name}}</a>
                </span>
              </td>
              <td class="appTypeIndicator">
                <i class="fa fa-2" ng-class="app.type == 'IosApp' ? 'fa-apple' : 'fa-android'"></i>
              </td>
              <td class="dashboardMobilePriorityView">
                <i ng-if="app.mobilePriority" class="fa fa-circle" ng-class="'status-' + app.mobilePriority"></i>{{app.mobilePriority | capitalize}}
              </td>
              <td  class="dashboardAdSpendView">
                <i class="fa fa-circle" ng-class="'status-' + app.adSpend"></i>{{app.adSpend ? 'Yes' : 'No'}}
              </td>
              <td>{{app.userBase | capitalize}}</td>
              <td>{{app.categories.join(', ')}}</td>
              <td>{{app.lastUpdated | date : 'shortDate'}}</td>
            </tr>
            </tbody>
          </table>
          <div id="dashboardTableStatusMessage" data-ng-show="queryInProgress || !(apps.length > 0)">
            <h5 data-ng-hide="apps.length > 0 || queryInProgress">No Items</h5>
            <div data-ng-show="queryInProgress" id="wrap_spinner">
              <div class="loading outer">
                <div class="loading inner"></div>
              </div>
            </div>
          </div>

          <!-- Modals -->
          <aside ng-include="'/app/app/views/modals/list-create.html'"></aside>
          <aside ng-include="'/app/app/views/modals/list-delete.html'"></aside>
          <aside ng-include="'/app/app/views/modals/list-delete-selected.html'"></aside>

        </div>

        <!--
        <footer class="table-footer">
          <div class="row">
            <div class="col-md-6 page-num-info">

                          <span>
                              Show
                              <select data-ng-model="numPerPage"
                                      data-ng-options="num for num in numPerPageOpt"
                                      data-ng-change="onNumPerPageChange()">
                              </select>
                              entries per page
                          </span>

            </div>

            <div class="col-md-6 text-right pagination-container">
              <pagination class="pagination-sm"
                          ng-model="currentPage"
                          total-items="numApps"
                          max-size="4"
                          ng-change="select(currentPage, tags)"
                          items-per-page="numPerPage"
                          rotate="false"
                          boundary-links="true"></pagination>
            </div>

          </div>
        </footer>
        -->
      </div>

    </section>

  </div>

</div>

  <!-- Modals -->
  <aside ng-include="'/app/app/views/modals/list-create.html'"></aside>

</div>
