<div id="topAppsPage" class="chartPage" data-ng-controller="ChartsCtrl">
  <div id="wrap_spinner" ng-if="!initialPageLoadComplete">
    <div class="loading outer">
      <div class="loading inner"></div>
    </div>
  </div>

  <div ng-if="initialPageLoadComplete">
    <div class="row chartPageRow topAppsPageRow">
      <h4>iTunes Top 200 Apps</h4>
      <p>
        App ranking changes are calculated using an app's ranking 7 days ago
      </p>
      <ul>
        <li data-ng-repeat="app in apps" class="grid">
          <span class="app-rank">{{app.rank}}</span>
          <span ng-if="app.rankingChange > 0" class="app-rank-change">
            <i class="fa fa-arrow-up" aria-hidden="true"></i>
            {{app.rankingChange}}
          </span>
          <span ng-if="app.rankingChange < 0" class="app-rank-change">
            <i class="fa fa-arrow-down" aria-hidden="true"></i>
            {{app.rankingChange * -1}}
          </span>
          <span class="badge badge-primary app-rank-change" ng-if="0 <= app.releasedDays && app.releasedDays <= 7">New</span>
          <a href="#/app/{{app.platform}}/{{app.id}}" title="{{app.name}}" class="icon" target="_blank">
            <img ng-src="{{app.icon}}" width="50" height="50">
          </a>
          <br>
          <span class="app-name"><a ng-href="#/app/{{app.platform}}/{{app.id}}" title="{{app.name}}" target="_blank" ng-click="topChartsItemClicked(app, 'app')">{{app.name}}</a></span>
          <br>
          <span class="app-category"><a ng-href="#/publisher/{{app.platform}}/{{app.publisher.id}}" title="{{app.publisher.name}}" target="_blank" ng-click="topChartsItemClicked(app, 'publisher')">{{app.publisher.name}}</a></span>
        </li>
      </ul>
    </div>
  </div>
</div>
